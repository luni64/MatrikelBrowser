using Microsoft.EntityFrameworkCore;
using RMDatabase;
using RMDatabase.Models;
using System.Globalization;

namespace Example
{
    class AddPerson
    {
        public void Execute()
        {
            using (var db = new DB())
            {
                var Pete = new Person
                {
                    Names = new List<Name>
                    {
                        new Name
                        {
                            Given = "Hanse",
                            Surname = "Huber",
                        },
                        new Name
                        {
                            Given = "Hanse",
                            IsPrimary = false,
                            NameType = NameTypes.Nickname
                        }
                    },
                    Living = true,
                    Sex = Gender.male,
                    Note = "This person was generated by rmSharp",
                    ChangeDate = DateTime.Parse("1964-11-24"),
                };

                var Mary = new Person
                {
                    Names = new List<Name> { new Name { Given = "Maria", Surname = "Kaindl" } },
                    Sex = Gender.female
                };

                var name = new Name();
                name.Given = "asdfaf";
                name.Surname = "asfasf";

                var child = new Person();
                child.Names.Add(name);

                var fam = new Family()
                {
                    Father = Pete,
                    Mother = Mary,
                };

                

                db.PersonTable.Add(Pete);
                db.PersonTable.Add(Mary);
                db.PersonTable.Add(child);
                db.FamilyTable.Add(fam);
                var n = db.SaveChanges();                
            }
        }
    }
}






